@{
    ViewData["Title"] = "Comments Page";
    var comments = ViewBag.Comments as List<CommentSite.Models.Comment>;
}

<h1>Leave a Comment</h1>

<form asp-action="PostComment" method="post">
    <input type="text" name="Name" placeholder="Your Name" required /><br /><br />
    <textarea name="Message" placeholder="Your Comment" required></textarea><br /><br />
    <button type="submit">Post Comment</button>
</form>

<hr />

<h2>Previous Comments</h2>

@if (comments != null && comments.Any())
{
    <ul>
        @foreach (var comment in comments)
        {
            <li>
                <strong>@comment.Name</strong> (@comment.PostedAt.ToShortTimeString()):<br />
                @comment.Message
            </li>
        }
    </ul>
}
else
{
    <p>No comments yet. Be the first!</p>
}
